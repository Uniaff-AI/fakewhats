/* Оптимизации для мобильных устройств - только производительность, без упрощения дизайна */

/* Принудительное аппаратное ускорение для видео (не влияет на визуал) */
.vsl-video,
#fullscreenVideo,
#returnVslVideo,
#returnVisitVideo {
  -webkit-transform: translateZ(0);
  -moz-transform: translateZ(0);
  -ms-transform: translateZ(0);
  -o-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  -ms-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-perspective: 1000;
  -moz-perspective: 1000;
  -ms-perspective: 1000;
  perspective: 1000;
}

/* Оптимизация для мобильных устройств - только для видео */
@media (max-width: 768px) {
  /* Улучшаем рендеринг видео на мобильных (не влияет на визуал) */
  .vsl-video,
  #fullscreenVideo,
  #returnVslVideo,
  #returnVisitVideo {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }
  
  /* Только для очень старых устройств - отключаем сложные анимации */
  @media (max-device-memory: 1gb) {
    .vsl-overlay,
    .vsl-vignette,
    .vsl-text-overlay {
      transition: none !important;
      animation: none !important;
    }
  }
}

/* Специальные оптимизации для iOS - только аппаратное ускорение */
@supports (-webkit-touch-callout: none) {
  .vsl-video,
  #fullscreenVideo,
  #returnVslVideo,
  #returnVisitVideo {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
}

/* Оптимизация для Android - только аппаратное ускорение */
@supports (-webkit-appearance: none) and (not (overflow: -webkit-marquee)) {
  .vsl-video,
  #fullscreenVideo,
  #returnVslVideo,
  #returnVisitVideo {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
}

/* Только для устройств с очень низкой производительностью */
@media (prefers-reduced-motion: reduce) and (max-device-memory: 1gb) {
  /* Отключаем анимации только на очень слабых устройствах */
  .vsl-overlay,
  .vsl-vignette,
  .vsl-text-overlay {
    transition: none !important;
    animation: none !important;
  }
}

/* Оптимизация для устройств с высоким DPI - только улучшение качества */
@media (-webkit-min-device-pixel-ratio: 2) {
  .vsl-video,
  #fullscreenVideo,
  #returnVslVideo,
  #returnVisitVideo {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: optimize-contrast;
  }
}
