---
import { siteConfig } from '../config/site-config';
---

<div id="vslExitPopup" class="vsl-exit-popup" style="display: none;">
  <div class="vsl-backdrop" id="vslBackdrop"></div>
  <div class="vsl-container">
    <!-- VSL Video Section -->
    <div class="vsl-video-section">
              <video id="vslExitVideo" src={siteConfig.images.videos.chatVsl} playsinline preload="metadata" class="vsl-video" controls webkit-playsinline x-webkit-airplay="allow" x5-video-player-type="h5">
          Your browser does not support the video tag.
        </video>
      
      <!-- Vignette -->
      <div class="vsl-vignette"></div>
      
      <!-- Green Banner at Top -->
      <div class="vsl-green-banner">
        <div class="banner-text">
          <div class="banner-line-1">{siteConfig.texts.popups.vslExitPopup.bannerText.split(' ').slice(0, 4).join(' ')}</div>
          <div class="banner-line-2">{siteConfig.texts.popups.vslExitPopup.bannerText.split(' ').slice(4, 8).join(' ')}</div>
          <div class="banner-line-3">{siteConfig.texts.popups.vslExitPopup.bannerText.split(' ').slice(8).join(' ')}</div>
        </div>
      </div>

      <!-- Vignette Overlay -->
      <div class="vsl-vignette-overlay" id="vslVignetteOverlay"></div>

      <!-- Buttons Overlay -->
      <div class="vsl-buttons-overlay">
        <div class="popup-buttons">
          <button id="continueWatchingVSL" class="btn-primary">{siteConfig.texts.popups.vslExitPopup.continueButton}</button>
          <button id="fillFormVSL" class="btn-secondary">{siteConfig.texts.popups.vslExitPopup.fillFormButton}</button>
        </div>
      </div>
    </div>

    <!-- Close Button -->
    <button class="vsl-close-btn" id="closeVSLExit">‚úï</button>
  </div>
</div>

<script>
  const vslExitPopup = document.getElementById('vslExitPopup');
  const closeVSLExit = document.getElementById('closeVSLExit');
  const vslBackdrop = document.getElementById('vslBackdrop');
  const vslExitVideo = document.getElementById('vslExitVideo');
  const continueWatchingVSL = document.getElementById('continueWatchingVSL');
  const fillFormVSL = document.getElementById('fillFormVSL');
  const vslVignetteOverlay = document.getElementById('vslVignetteOverlay');
  
  let hasShownExitPopup = false;

  function showVSLExitPopup() {
    if (hasShownExitPopup) return;
    
    hasShownExitPopup = true;
    vslExitPopup.style.display = 'flex';
    setTimeout(() => {
      vslExitPopup.classList.add('show');
      if (vslExitVideo) {
        vslExitVideo.muted = false;
        vslExitVideo.volume = 1.0;
        vslExitVideo.currentTime = 0;
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å –æ–±—Ö–æ–¥–æ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
        startAutoplayWithBypass(vslExitVideo);
      }
      
      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
      const buttonsOverlay = document.querySelector('.vsl-buttons-overlay');
      if (buttonsOverlay) {
        buttonsOverlay.style.display = 'flex';
      }
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∏–Ω—å–µ—Ç–∫—É
      if (vslVignetteOverlay) {
        vslVignetteOverlay.classList.remove('hidden');
      }
    }, 10);
    document.body.style.overflow = 'hidden';
  }

  function hideVSLExitPopup() {
    vslExitPopup.classList.remove('show');
    
    if (vslExitVideo) {
      vslExitVideo.pause();
      vslExitVideo.currentTime = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Ä–µ–º—è –≤–∏–¥–µ–æ
      vslExitVideo.muted = true; // –û—Ç–∫–ª—é—á–∞–µ–º –∑–≤—É–∫
      vslExitVideo.volume = 0; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å –≤ 0
      // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
      vslExitVideo.load();
    }
    setTimeout(() => {
      vslExitPopup.style.display = 'none';
      // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤–∏–Ω—å–µ—Ç–∫—É
      if (vslVignetteOverlay) {
        vslVignetteOverlay.classList.remove('hidden');
      }
      // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –ø–æ–∫–∞–∑–∞
      hasShownExitPopup = false;
    }, 300);
    document.body.style.overflow = 'auto';
  }

  // Exit intent detection
  function handleExitIntent(e) {
    if (e.clientY <= 0 && !hasShownExitPopup) {
      showVSLExitPopup();
    }
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤–∏–¥–µ–æ –ø—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
  function forcePlayVideo() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ VSL Exit –ø–æ–ø–∞–ø –æ—Ç–∫—Ä—ã—Ç –∏ –≤–∏–¥–µ–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if (vslExitPopup && vslExitPopup.style.display === 'flex' && vslExitVideo && vslExitVideo.paused) {
      vslExitVideo.muted = false;
      vslExitVideo.play().then(() => {
        // console.log('VSL Exit video forced to play');
      }).catch(e => {
        // console.log('VSL Exit force play failed:', e);
      });
    }
  }

  // Event listeners
  if (closeVSLExit) {
    closeVSLExit.addEventListener('click', () => {
      // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–∏–¥–µ–æ
      if (vslExitVideo) {
        vslExitVideo.pause();
        vslExitVideo.muted = true;
        vslExitVideo.volume = 0;
        vslExitVideo.currentTime = 0;
        vslExitVideo.load();
      }
      hideVSLExitPopup();
    });
  }
  
  if (vslBackdrop) {
    vslBackdrop.addEventListener('click', () => {
      // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–∏–¥–µ–æ
      if (vslExitVideo) {
        vslExitVideo.pause();
        vslExitVideo.muted = true;
        vslExitVideo.volume = 0;
        vslExitVideo.currentTime = 0;
        vslExitVideo.load();
      }
      hideVSLExitPopup();
    });
  }

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ - –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–º–æ–Ω–µ—Ç–∫—É
  if (vslExitVideo) {
    vslExitVideo.addEventListener('click', () => {
      // –ü—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ, –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–º–æ–Ω–µ—Ç–∫—É
      if (vslExitVideo) {
        vslExitVideo.pause();
        vslExitVideo.muted = true;
        vslExitVideo.volume = 0;
        vslExitVideo.currentTime = 0;
        vslExitVideo.load();
      }
      hideVSLExitPopup();
      // –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–º–æ–Ω–µ—Ç–∫—É –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≤–∏–¥–µ–æ
      // –î–æ–º–æ–Ω–µ—Ç–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø
    });
  }

  // Button event listeners
  if (continueWatchingVSL) {
    continueWatchingVSL.addEventListener('click', () => {
      // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –∏ –≤–∏–Ω—å–µ—Ç–∫—É
      const buttonsOverlay = document.querySelector('.vsl-buttons-overlay');
      if (buttonsOverlay) {
        buttonsOverlay.style.display = 'none';
      }
      if (vslVignetteOverlay) {
        vslVignetteOverlay.classList.add('hidden');
      }
      
      // –£–±–∏—Ä–∞–µ–º –∫—É—Ä—Å–æ—Ä pointer —Å –≤–∏–¥–µ–æ
      if (vslExitVideo) {
        vslExitVideo.style.cursor = 'default';
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ª–∏ –≤–∏–¥–µ–æ, –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
        if (vslExitVideo.paused) {
          vslExitVideo.play().then(() => {
            // console.log('‚ñ∂Ô∏è VSL exit video resumed from pause');
          }).catch((error) => {
            // console.log('‚ùå Failed to resume VSL exit video:', error.name);
            // –ï—Å–ª–∏ –∞–≤—Ç–æ–ø–ª–µ–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—Ö–æ–¥
            startAutoplayWithBypass(vslExitVideo);
          });
        }
      }
      
      // –ù–ï –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä"
      // –í–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏–≥—Ä–∞—Ç—å –±–µ–∑ –∫–Ω–æ–ø–æ–∫ –∏ –≤–∏–Ω—å–µ—Ç–∫–∏
    });
  }

  if (fillFormVSL) {
    fillFormVSL.addEventListener('click', () => {
      // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ –∏ –æ—Ç–∫–ª—é—á–∞–µ–º –∑–≤—É–∫ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º
      if (vslExitVideo) {
        vslExitVideo.pause();
        vslExitVideo.muted = true;
        vslExitVideo.volume = 0;
        vslExitVideo.currentTime = 0;
        vslExitVideo.load();
      }
      hideVSLExitPopup();
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É –∑–∞–∫–∞–∑–∞
      const orderFormModal = document.getElementById('orderFormModal');
      if (orderFormModal) {
        orderFormModal.style.display = 'flex';
        setTimeout(() => {
          orderFormModal.classList.add('show');
        }, 10);
      }
    });
  }

  // Exit intent –æ—Ç–∫–ª—é—á–µ–Ω - –ø–æ–ø–∞–ø –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
  // document.addEventListener('mouseleave', handleExitIntent);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤–∏–¥–µ–æ —Ç–æ–ª—å–∫–æ –≤ VSL Exit –ø–æ–ø–∞–ø–µ
  if (vslExitPopup) {
    vslExitPopup.addEventListener('click', forcePlayVideo);
    vslExitPopup.addEventListener('touchstart', forcePlayVideo);
    vslExitPopup.addEventListener('keydown', forcePlayVideo);
  }



  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
  function startAutoplayWithBypass(video) {
    if (!video) return;
    
    // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫
    video.removeEventListener('error', handleVideoError);
    video.removeEventListener('stalled', handleVideoStalled);
    video.removeEventListener('waiting', handleVideoWaiting);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è
    video.addEventListener('error', handleVideoError);
    video.addEventListener('stalled', handleVideoStalled);
    video.addEventListener('waiting', handleVideoWaiting);
    
    // –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –ü—Ä–æ–±—É–µ–º —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º –∑–≤—É–∫–æ–º (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤)
    video.muted = true;
    video.play().then(() => {
      // console.log('‚úÖ VSL Exit video started playing (muted)');
      // –í–∫–ª—é—á–∞–µ–º –∑–≤—É–∫ —Å—Ä–∞–∑—É
      video.muted = false;
      // console.log('üîä Sound enabled immediately');
    }).catch((error) => {
      // console.log('‚ùå Muted autoplay failed:', error.name);
      
      // –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –ü—Ä–æ–±—É–µ–º —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
      setTimeout(() => {
        video.muted = true;
        video.play().then(() => {
          // console.log('‚úÖ VSL Exit video started playing (delayed muted)');
          // –í–∫–ª—é—á–∞–µ–º –∑–≤—É–∫ —Å—Ä–∞–∑—É
          video.muted = false;
          // console.log('üîä Sound enabled immediately (delayed)');
        }).catch((error2) => {
          // console.log('‚ùå Delayed autoplay failed:', error2.name);
          
          // –°—Ç—Ä–∞—Ç–µ–≥–∏—è 3: –ñ–¥–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          setupUserInteractionAutoplay(video);
        });
      }, 500);
    });
  }

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –≤–∏–¥–µ–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è
  function handleVideoError(e) {
    const video = e.target;
    // console.log('üö® VSL Exit video error detected:', e);
    
    // –ü—Ä–æ–±—É–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ
    setTimeout(() => {
      if (video && video.readyState === 0) {
        video.load();
        // console.log('üîÑ VSL Exit video reloaded after error');
      }
    }, 1000);
  }

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–≤–∏—Å–∞–Ω–∏—è –≤–∏–¥–µ–æ
  function handleVideoStalled(e) {
    const video = e.target;
    // console.log('‚è∏Ô∏è VSL Exit video stalled, attempting recovery...');
    
    // –ü—Ä–æ–±—É–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
    setTimeout(() => {
      if (video && video.paused && video.readyState >= 2) {
        video.play().catch(() => {
          // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º
          video.load();
          // console.log('üîÑ VSL Exit video reloaded after stall');
        });
      }
    }, 2000);
  }

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–∂–∏–¥–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
  function handleVideoWaiting(e) {
    const video = e.target;
    // console.log('‚è≥ VSL Exit video waiting for data...');
    
    // –î–∞–µ–º –≤—Ä–µ–º—è –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É, –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ–º
    setTimeout(() => {
      if (video && video.readyState < 2) {
        // console.log('üîÑ VSL Exit video stuck waiting, reloading...');
        video.load();
      }
    }, 5000);
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–∏–¥–µ–æ –ø–æ—Å–ª–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  function setupUserInteractionAutoplay(video) {
    let hasUserInteracted = false;
    
    // –°–æ–∑–¥–∞–µ–º –Ω–µ–≤–∏–¥–∏–º—É—é –∫–Ω–æ–ø–∫—É –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
    const playButton = document.createElement('div');
    playButton.style.cssText = `
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      cursor: pointer;
      z-index: 1000;
    `;
    playButton.innerHTML = `
      <div style="
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 20px 40px;
        border-radius: 10px;
        font-size: 18px;
        text-align: center;
        pointer-events: none;
      ">
        ‚ñ∂Ô∏è –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
      </div>
    `;
    
    playButton.onclick = () => {
      if (!hasUserInteracted) {
        hasUserInteracted = true;
        playButton.remove();
        video.muted = false;
        video.play().then(() => {
          // console.log('‚úÖ VSL Exit video started after user interaction');
        }).catch((error) => {
          // console.error('‚ùå Failed to play after interaction:', error);
        });
      }
    };
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
    const interactionEvents = ['click', 'touchstart', 'keydown', 'mousedown'];
    interactionEvents.forEach(event => {
      playButton.addEventListener(event, () => {
        if (!hasUserInteracted) {
          hasUserInteracted = true;
          playButton.remove();
          video.muted = false;
          video.play().then(() => {
            // console.log('‚úÖ VSL Exit video started after user interaction');
          }).catch((error) => {
            // console.error('‚ùå Failed to play after interaction:', error);
          });
        }
      });
    });
    
    vslExitPopup.appendChild(playButton);
  }

  // Export functions
  window.showVSLExitPopup = showVSLExitPopup;
  window.hideVSLExitPopup = hideVSLExitPopup;
</script>

<style>
  .vsl-exit-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10001;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .vsl-exit-popup.show {
    opacity: 1;
  }

  .vsl-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
  }

  .vsl-container {
    position: relative;
    width: 95%;
    max-width: 400px;
    background: #f0f0f0;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    transform: scale(0.9);
    transition: transform 0.3s ease;
  }

  .vsl-exit-popup.show .vsl-container {
    transform: scale(1);
  }



  .vsl-video-section {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .vsl-video {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–µ–∑–∞–Ω–∏—è –≤–∏–¥–µ–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö */
  @media (max-width: 768px) {
    .vsl-video {
      object-fit: contain; /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∏–¥–µ–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑ –æ–±—Ä–µ–∑–∞–Ω–∏—è */
      background: #000; /* –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –ø—É—Å—Ç—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π */
    }
    
    .vsl-container {
      height: 60vh; /* –£–º–µ–Ω—å—à–∞–µ–º –≤—ã—Å–æ—Ç—É –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    }
  }

  @media (max-width: 480px) {
    .vsl-container {
      height: 50vh; /* –ï—â–µ –º–µ–Ω—å—à–µ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
    }
  }

  .vsl-vignette {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at center, transparent 30%, rgba(0, 0, 0, 0.3) 100%);
    pointer-events: none;
    z-index: 2;
  }

  .vsl-green-banner {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 80px;
    background: rgba(50, 205, 50, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 5;
  }

  .banner-text {
    color: #000;
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 10px 20px;
  }

  .banner-line-1 {
    font-size: 12px;
    text-decoration: underline;
    margin-bottom: 4px;
    font-weight: bold;
  }

  .banner-line-2 {
    font-size: 14px;
    font-weight: bold;
    margin-bottom: 4px;
  }

  .banner-line-3 {
    font-size: 14px;
    font-weight: bold;
  }

  .vsl-vignette-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    pointer-events: none;
    z-index: 4;
    transition: opacity 0.3s ease;
  }

  .vsl-vignette-overlay.hidden {
    opacity: 0;
  }

  .vsl-buttons-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    display: flex;
    justify-content: center;
    z-index: 6;
  }

  .popup-buttons {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    max-width: 300px;
  }

  .btn-primary {
    background: linear-gradient(135deg, #32cd32, #228b22);
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    font-weight: 700;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 12px rgba(50, 205, 50, 0.4);
    text-transform: uppercase;
  }

  .btn-primary:hover {
    background: linear-gradient(135deg, #28a728, #1e7e1e);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(50, 205, 50, 0.6);
  }

  .btn-secondary {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    border: 2px solid rgba(255, 255, 255, 0.3);
    padding: 12px 20px;
    border-radius: 8px;
    font-weight: 700;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s;
    text-transform: uppercase;
  }

  .btn-secondary:hover {
    background: rgba(255, 255, 255, 1);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
  }

  .vsl-close-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    font-size: 16px;
    cursor: pointer;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .vsl-close-btn:hover {
    background: rgba(0, 0, 0, 0.9);
  }

  /* Mobile optimizations */
  @media (max-width: 768px) {
    .vsl-container {
      width: 98%;
      max-width: 350px;
      margin: 10px;
    }

    .vsl-green-banner {
      height: 70px;
    }

    .banner-text {
      padding: 8px 15px;
    }

    .banner-line-1 {
      font-size: 11px;
      margin-bottom: 3px;
    }

    .banner-line-2,
    .banner-line-3 {
      font-size: 13px;
      margin-bottom: 3px;
    }

    .vsl-buttons-overlay {
      top: 50%;
      transform: translate(-50%, -50%);
    }

    .popup-buttons {
      max-width: 280px;
      gap: 10px;
    }

    .btn-primary,
    .btn-secondary {
      padding: 10px 16px;
      font-size: 13px;
    }

    .vsl-close-btn {
      top: 6px;
      right: 6px;
      width: 24px;
      height: 24px;
      font-size: 12px;
    }
  }
</style>
